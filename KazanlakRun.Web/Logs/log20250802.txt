2025-08-02 14:51:42.921 +03:00 [INF] User profile is available. Using 'C:\Users\nik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-02 14:51:44.790 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 14:51:44.805 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 14:51:44.809 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 14:51:44.810 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 14:51:44.822 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-02 14:51:44.833 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-08-02 14:51:44.900 +03:00 [INF] Now listening on: https://localhost:7017
2025-08-02 14:51:44.902 +03:00 [INF] Now listening on: http://localhost:5122
2025-08-02 14:51:44.927 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-02 14:51:44.957 +03:00 [INF] Hosting environment: Development
2025-08-02 14:51:44.958 +03:00 [INF] Content root path: D:\_KazRun\KazRun\KazRun\KazanlakRun.Web
2025-08-02 14:51:45.086 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/ - null null
2025-08-02 14:51:45.158 +03:00 [INF] Identity.Application was not authenticated. Failure message: Ticket expired
2025-08-02 14:51:45.162 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Public.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 14:51:45.171 +03:00 [INF] Route matched with {area = "Public", action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller KazanlakRun.Web.Areas.Public.Controllers.HomeController (KazanlakRun.Web).
2025-08-02 14:51:45.178 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-02 14:51:45.240 +03:00 [INF] Executed ViewResult - view Index executed in 61.9868ms.
2025-08-02 14:51:45.246 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Public.Controllers.HomeController.Index (KazanlakRun.Web) in 72.4945ms
2025-08-02 14:51:45.250 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Public.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 14:51:45.259 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/ - 200 null text/html; charset=utf-8 173.9949ms
2025-08-02 14:51:45.266 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 14:51:45.266 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 14:51:45.277 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 10.2729ms
2025-08-02 14:51:45.291 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.4157ms
2025-08-02 14:51:48.720 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Identity/Account/Login - null null
2025-08-02 14:51:48.740 +03:00 [INF] Identity.Application was not authenticated. Failure message: Ticket expired
2025-08-02 14:51:48.745 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-02 14:51:48.782 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2025-08-02 14:51:48.831 +03:00 [INF] Executing handler method KazanlakRun.Web.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2025-08-02 14:51:48.849 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-02 14:51:48.855 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2025-08-02 14:51:48.863 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-08-02 14:51:48.867 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-08-02 14:51:48.962 +03:00 [INF] Executed page /Account/Login in 173.109ms
2025-08-02 14:51:48.966 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-02 14:51:48.971 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Identity/Account/Login - 200 null text/html; charset=utf-8 251.1492ms
2025-08-02 14:51:48.982 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 14:51:48.985 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 14:51:48.995 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 9.7692ms
2025-08-02 14:51:49.004 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.7503ms
2025-08-02 14:51:50.578 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7017/Identity/Account/Login - application/x-www-form-urlencoded 268
2025-08-02 14:51:50.591 +03:00 [INF] Identity.Application was not authenticated. Failure message: Ticket expired
2025-08-02 14:51:50.593 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-02 14:51:50.597 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2025-08-02 14:51:50.626 +03:00 [INF] Executing handler method KazanlakRun.Web.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2025-08-02 14:51:51.113 +03:00 [INF] Executed DbCommand (128ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 14:51:51.374 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-08-02 14:51:51.432 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 14:51:51.445 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-08-02 14:51:51.470 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-08-02 14:51:51.478 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-08-02 14:51:51.481 +03:00 [INF] User logged in.
2025-08-02 14:51:51.492 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-02 14:51:51.505 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-08-02 14:51:51.546 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-08-02 14:51:51.563 +03:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult.
2025-08-02 14:51:51.568 +03:00 [INF] Executing RedirectResult, redirecting to /Admin.
2025-08-02 14:51:51.569 +03:00 [INF] Executed page /Account/Login in 969.5007ms
2025-08-02 14:51:51.571 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-02 14:51:51.575 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7017/Identity/Account/Login - 302 0 null 997.1896ms
2025-08-02 14:51:51.580 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin - null null
2025-08-02 14:51:51.589 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 14:51:51.592 +03:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller KazanlakRun.Web.Areas.Admin.Controllers.HomeController (KazanlakRun.Web).
2025-08-02 14:51:51.596 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-02 14:51:51.611 +03:00 [INF] Executed ViewResult - view Index executed in 15.8399ms.
2025-08-02 14:51:51.614 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web) in 19.6493ms
2025-08-02 14:51:51.618 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 14:51:51.620 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin - 200 null text/html; charset=utf-8 40.2127ms
2025-08-02 14:51:51.628 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 14:51:51.630 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 14:51:51.637 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 6.9422ms
2025-08-02 14:51:51.638 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.8866ms
2025-08-02 14:51:55.888 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/View - null null
2025-08-02 14:51:55.897 +03:00 [INF] Executing endpoint 'LogsController.View (KazanlakRun.Web)'
2025-08-02 14:51:55.900 +03:00 [INF] Route matched with {area = "Admin", action = "View", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult View() on controller LogsController (KazanlakRun.Web).
2025-08-02 14:51:55.907 +03:00 [INF] Executing ContentResult with HTTP Response ContentType of text/plain; charset=utf-8
2025-08-02 14:51:55.909 +03:00 [INF] Executed action LogsController.View (KazanlakRun.Web) in 5.8024ms
2025-08-02 14:51:55.911 +03:00 [INF] Executed endpoint 'LogsController.View (KazanlakRun.Web)'
2025-08-02 14:51:55.914 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/View - 200 19 text/plain; charset=utf-8 26.3085ms
2025-08-02 14:52:05.094 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 14:52:05.099 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 4.1823ms
2025-08-02 14:52:09.080 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/Clear - null null
2025-08-02 14:52:09.089 +03:00 [INF] Executing endpoint 'LogsController.Clear (KazanlakRun.Web)'
2025-08-02 14:52:09.093 +03:00 [INF] Route matched with {area = "Admin", action = "Clear", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Clear() on controller LogsController (KazanlakRun.Web).
2025-08-02 14:52:09.098 +03:00 [INF] Executing RedirectResult, redirecting to /Admin.
2025-08-02 14:52:09.102 +03:00 [INF] Executed action LogsController.Clear (KazanlakRun.Web) in 5.3389ms
2025-08-02 14:52:09.107 +03:00 [INF] Executed endpoint 'LogsController.Clear (KazanlakRun.Web)'
2025-08-02 14:52:09.110 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/Clear - 302 0 null 29.1087ms
2025-08-02 14:52:09.114 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin - null null
2025-08-02 14:52:09.122 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 14:52:09.124 +03:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller KazanlakRun.Web.Areas.Admin.Controllers.HomeController (KazanlakRun.Web).
2025-08-02 14:52:09.127 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-02 14:52:09.132 +03:00 [INF] Executed ViewResult - view Index executed in 5.0354ms.
2025-08-02 14:52:09.134 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web) in 7.7808ms
2025-08-02 14:52:09.136 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 14:52:09.140 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin - 200 null text/html; charset=utf-8 25.203ms
2025-08-02 14:52:09.153 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 14:52:09.153 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 14:52:09.164 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.9688ms
2025-08-02 14:52:09.164 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 11.2402ms
2025-08-02 14:52:19.290 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Report/RunnersByAidStation - null null
2025-08-02 14:52:19.310 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.ReportController.RunnersByAidStation (KazanlakRun.Web)'
2025-08-02 14:52:19.324 +03:00 [INF] Route matched with {area = "Admin", action = "RunnersByAidStation", controller = "Report", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RunnersByAidStation() on controller KazanlakRun.Web.Areas.Admin.Controllers.ReportController (KazanlakRun.Web).
2025-08-02 14:52:19.503 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name], [a].[ShortName], [t].[AidStationId], [t].[DistanceId], [t].[Id], [t].[Distans], [t].[RegRunners]
FROM [AidStations] AS [a]
LEFT JOIN (
    SELECT [a0].[AidStationId], [a0].[DistanceId], [d].[Id], [d].[Distans], [d].[RegRunners]
    FROM [AidStationDistances] AS [a0]
    INNER JOIN [Distances] AS [d] ON [a0].[DistanceId] = [d].[Id]
) AS [t] ON [a].[Id] = [t].[AidStationId]
ORDER BY [a].[Id], [t].[AidStationId], [t].[DistanceId]
2025-08-02 14:52:19.524 +03:00 [INF] Executing ViewResult, running view RunnersByAidStation.
2025-08-02 14:52:19.534 +03:00 [INF] Executed ViewResult - view RunnersByAidStation executed in 10.689ms.
2025-08-02 14:52:19.537 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.ReportController.RunnersByAidStation (KazanlakRun.Web) in 207.3217ms
2025-08-02 14:52:19.542 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.ReportController.RunnersByAidStation (KazanlakRun.Web)'
2025-08-02 14:52:19.543 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Report/RunnersByAidStation - 200 null text/html; charset=utf-8 253.5896ms
2025-08-02 14:52:19.552 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 14:52:19.552 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 14:52:19.558 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 6.2893ms
2025-08-02 14:52:19.566 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.3897ms
2025-08-02 14:52:22.220 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Report/VolunteersByAidStation - null null
2025-08-02 14:52:22.229 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.ReportController.VolunteersByAidStation (KazanlakRun.Web)'
2025-08-02 14:52:22.238 +03:00 [INF] Route matched with {area = "Admin", action = "VolunteersByAidStation", controller = "Report", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VolunteersByAidStation(Int32, System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.ReportController (KazanlakRun.Web).
2025-08-02 14:52:22.281 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-02 14:52:22.307 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name], [a].[ShortName], [t0].[Id], [t0].[AidStationId], [t0].[Email], [t0].[Names], [t0].[Phone], [t0].[UserId], [t0].[VolunteerId], [t0].[RoleId], [t0].[Id0], [t0].[Name]
FROM [AidStations] AS [a]
LEFT JOIN (
    SELECT [v].[Id], [v].[AidStationId], [v].[Email], [v].[Names], [v].[Phone], [v].[UserId], [t].[VolunteerId], [t].[RoleId], [t].[Id] AS [Id0], [t].[Name]
    FROM [Volunteers] AS [v]
    LEFT JOIN (
        SELECT [v0].[VolunteerId], [v0].[RoleId], [r].[Id], [r].[Name]
        FROM [VolunteerRoles] AS [v0]
        INNER JOIN [Roles] AS [r] ON [v0].[RoleId] = [r].[Id]
    ) AS [t] ON [v].[Id] = [t].[VolunteerId]
) AS [t0] ON [a].[Id] = [t0].[AidStationId]
ORDER BY [a].[Id], [t0].[Id], [t0].[VolunteerId], [t0].[RoleId]
2025-08-02 14:52:22.319 +03:00 [INF] Executing ViewResult, running view VolunteersByAidStation.
2025-08-02 14:52:22.341 +03:00 [INF] Executed ViewResult - view VolunteersByAidStation executed in 23.359ms.
2025-08-02 14:52:22.344 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.ReportController.VolunteersByAidStation (KazanlakRun.Web) in 100.5299ms
2025-08-02 14:52:22.347 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.ReportController.VolunteersByAidStation (KazanlakRun.Web)'
2025-08-02 14:52:22.349 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Report/VolunteersByAidStation - 200 null text/html; charset=utf-8 129.3743ms
2025-08-02 14:52:22.356 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 14:52:22.357 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 14:52:22.361 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 4.3528ms
2025-08-02 14:52:22.369 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.733ms
2025-08-02 14:52:25.236 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Report/GoodsByAidStation - null null
2025-08-02 14:52:25.243 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.ReportController.GoodsByAidStation (KazanlakRun.Web)'
2025-08-02 14:52:25.250 +03:00 [INF] Route matched with {area = "Admin", action = "GoodsByAidStation", controller = "Report", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoodsByAidStation() on controller KazanlakRun.Web.Areas.Admin.Controllers.ReportController (KazanlakRun.Web).
2025-08-02 14:52:25.274 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Measure], [g].[Name], [g].[Quantity], [g].[QuantityOneRunner]
FROM [Goods] AS [g]
WHERE [g].[QuantityOneRunner] > 0.0E0
2025-08-02 14:52:25.287 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name], [a].[ShortName], [t].[AidStationId], [t].[DistanceId], [t].[Id], [t].[Distans], [t].[RegRunners]
FROM [AidStations] AS [a]
LEFT JOIN (
    SELECT [a0].[AidStationId], [a0].[DistanceId], [d].[Id], [d].[Distans], [d].[RegRunners]
    FROM [AidStationDistances] AS [a0]
    INNER JOIN [Distances] AS [d] ON [a0].[DistanceId] = [d].[Id]
) AS [t] ON [a].[Id] = [t].[AidStationId]
ORDER BY [a].[Id], [t].[AidStationId], [t].[DistanceId]
2025-08-02 14:52:25.297 +03:00 [INF] Executing ViewResult, running view GoodsByAidStation.
2025-08-02 14:52:25.314 +03:00 [INF] Executed ViewResult - view GoodsByAidStation executed in 18.76ms.
2025-08-02 14:52:25.317 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.ReportController.GoodsByAidStation (KazanlakRun.Web) in 64.4168ms
2025-08-02 14:52:25.319 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.ReportController.GoodsByAidStation (KazanlakRun.Web)'
2025-08-02 14:52:25.321 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Report/GoodsByAidStation - 200 null text/html; charset=utf-8 84.604ms
2025-08-02 14:52:25.329 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/css/aid-station-report.css - null null
2025-08-02 14:52:25.332 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 14:52:25.332 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/js/aid-station-report.js - null null
2025-08-02 14:52:25.332 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 14:52:25.336 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 3.943ms
2025-08-02 14:52:25.340 +03:00 [INF] Sending file. Request path: '/css/aid-station-report.css'. Physical path: 'D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\wwwroot\css\aid-station-report.css'
2025-08-02 14:52:25.349 +03:00 [INF] Sending file. Request path: '/js/aid-station-report.js'. Physical path: 'D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\wwwroot\js\aid-station-report.js'
2025-08-02 14:52:25.351 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.3126ms
2025-08-02 14:52:25.354 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/css/aid-station-report.css - 200 227 text/css 25.244ms
2025-08-02 14:52:25.355 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/js/aid-station-report.js - 200 2382 text/javascript 23.1483ms
2025-08-02 14:52:27.694 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Report/GoodsForDelivery - null null
2025-08-02 14:52:27.699 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.ReportController.GoodsForDelivery (KazanlakRun.Web)'
2025-08-02 14:52:27.706 +03:00 [INF] Route matched with {area = "Admin", action = "GoodsForDelivery", controller = "Report", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoodsForDelivery() on controller KazanlakRun.Web.Areas.Admin.Controllers.ReportController (KazanlakRun.Web).
2025-08-02 14:52:27.716 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name], [a].[ShortName], [t].[AidStationId], [t].[DistanceId], [t].[Id], [t].[Distans], [t].[RegRunners]
FROM [AidStations] AS [a]
LEFT JOIN (
    SELECT [a0].[AidStationId], [a0].[DistanceId], [d].[Id], [d].[Distans], [d].[RegRunners]
    FROM [AidStationDistances] AS [a0]
    INNER JOIN [Distances] AS [d] ON [a0].[DistanceId] = [d].[Id]
) AS [t] ON [a].[Id] = [t].[AidStationId]
ORDER BY [a].[Id], [t].[AidStationId], [t].[DistanceId]
2025-08-02 14:52:27.729 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Measure], [g].[Name], [g].[Quantity], [g].[QuantityOneRunner]
FROM [Goods] AS [g]
2025-08-02 14:52:27.741 +03:00 [INF] Executing ViewResult, running view GoodsForDelivery.
2025-08-02 14:52:27.750 +03:00 [INF] Executed ViewResult - view GoodsForDelivery executed in 10.5577ms.
2025-08-02 14:52:27.753 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.ReportController.GoodsForDelivery (KazanlakRun.Web) in 43.1179ms
2025-08-02 14:52:27.755 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.ReportController.GoodsForDelivery (KazanlakRun.Web)'
2025-08-02 14:52:27.760 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Report/GoodsForDelivery - 200 null text/html; charset=utf-8 65.8139ms
2025-08-02 14:52:27.772 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/js/goodsfordelivery-report.js - null null
2025-08-02 14:52:27.774 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 14:52:27.774 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 14:52:27.780 +03:00 [INF] Sending file. Request path: '/js/goodsfordelivery-report.js'. Physical path: 'D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\wwwroot\js\goodsfordelivery-report.js'
2025-08-02 14:52:27.787 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.7613ms
2025-08-02 14:52:27.788 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 14.312ms
2025-08-02 14:52:27.791 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/js/goodsfordelivery-report.js - 200 3461 text/javascript 19.2755ms
2025-08-02 14:52:29.665 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/View - null null
2025-08-02 14:52:29.671 +03:00 [INF] Executing endpoint 'LogsController.View (KazanlakRun.Web)'
2025-08-02 14:52:29.672 +03:00 [INF] Route matched with {area = "Admin", action = "View", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult View() on controller LogsController (KazanlakRun.Web).
2025-08-02 14:52:29.675 +03:00 [INF] Executing ContentResult with HTTP Response ContentType of text/plain; charset=utf-8
2025-08-02 14:52:29.677 +03:00 [INF] Executed action LogsController.View (KazanlakRun.Web) in 1.5618ms
2025-08-02 14:52:29.678 +03:00 [INF] Executed endpoint 'LogsController.View (KazanlakRun.Web)'
2025-08-02 14:52:29.680 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/View - 200 19 text/plain; charset=utf-8 14.7878ms
2025-08-02 15:24:09.821 +03:00 [INF] User profile is available. Using 'C:\Users\nik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-02 15:24:11.383 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 15:24:11.402 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 15:24:11.406 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 15:24:11.408 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 15:24:11.425 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-02 15:24:11.438 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-08-02 15:24:11.524 +03:00 [INF] Now listening on: https://localhost:7017
2025-08-02 15:24:11.526 +03:00 [INF] Now listening on: http://localhost:5122
2025-08-02 15:24:11.554 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-02 15:24:11.559 +03:00 [INF] Hosting environment: Development
2025-08-02 15:24:11.561 +03:00 [INF] Content root path: D:\_KazRun\KazRun\KazRun\KazanlakRun.Web
2025-08-02 15:24:11.838 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/ - null null
2025-08-02 15:24:11.916 +03:00 [INF] Identity.Application was not authenticated. Failure message: Ticket expired
2025-08-02 15:24:11.920 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Public.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:24:11.930 +03:00 [INF] Route matched with {area = "Public", action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller KazanlakRun.Web.Areas.Public.Controllers.HomeController (KazanlakRun.Web).
2025-08-02 15:24:11.938 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-02 15:24:12.012 +03:00 [INF] Executed ViewResult - view Index executed in 74.6868ms.
2025-08-02 15:24:12.021 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Public.Controllers.HomeController.Index (KazanlakRun.Web) in 86.7797ms
2025-08-02 15:24:12.024 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Public.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:24:12.032 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/ - 200 null text/html; charset=utf-8 194.8502ms
2025-08-02 15:24:12.034 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:24:12.034 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:24:12.045 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 10.9234ms
2025-08-02 15:24:12.063 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.192ms
2025-08-02 15:24:13.943 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Identity/Account/Login - null null
2025-08-02 15:24:13.965 +03:00 [INF] Identity.Application was not authenticated. Failure message: Ticket expired
2025-08-02 15:24:13.970 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-02 15:24:14.024 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2025-08-02 15:24:14.081 +03:00 [INF] Executing handler method KazanlakRun.Web.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2025-08-02 15:24:14.099 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-02 15:24:14.107 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2025-08-02 15:24:14.117 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-08-02 15:24:14.120 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-08-02 15:24:14.224 +03:00 [INF] Executed page /Account/Login in 194.3087ms
2025-08-02 15:24:14.231 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-02 15:24:14.237 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Identity/Account/Login - 200 null text/html; charset=utf-8 294.2844ms
2025-08-02 15:24:14.253 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:24:14.256 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:24:14.264 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 8.5713ms
2025-08-02 15:24:14.274 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.8683ms
2025-08-02 15:24:16.025 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7017/Identity/Account/Login - application/x-www-form-urlencoded 268
2025-08-02 15:24:16.040 +03:00 [INF] Identity.Application was not authenticated. Failure message: Ticket expired
2025-08-02 15:24:16.044 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-02 15:24:16.049 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2025-08-02 15:24:16.088 +03:00 [INF] Executing handler method KazanlakRun.Web.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2025-08-02 15:24:16.533 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 15:24:16.809 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-08-02 15:24:16.840 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 15:24:16.856 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-08-02 15:24:16.887 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-08-02 15:24:16.898 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-08-02 15:24:16.902 +03:00 [INF] User logged in.
2025-08-02 15:24:16.916 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-02 15:24:16.934 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-08-02 15:24:16.988 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-08-02 15:24:17.007 +03:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult.
2025-08-02 15:24:17.014 +03:00 [INF] Executing RedirectResult, redirecting to /Admin.
2025-08-02 15:24:17.017 +03:00 [INF] Executed page /Account/Login in 966.049ms
2025-08-02 15:24:17.020 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-02 15:24:17.026 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7017/Identity/Account/Login - 302 0 null 1000.4374ms
2025-08-02 15:24:17.027 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin - null null
2025-08-02 15:24:17.046 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:24:17.049 +03:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller KazanlakRun.Web.Areas.Admin.Controllers.HomeController (KazanlakRun.Web).
2025-08-02 15:24:17.056 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-02 15:24:17.072 +03:00 [INF] Executed ViewResult - view Index executed in 17.7047ms.
2025-08-02 15:24:17.076 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web) in 22.443ms
2025-08-02 15:24:17.079 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:24:17.081 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin - 200 null text/html; charset=utf-8 53.7009ms
2025-08-02 15:24:17.089 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:24:17.089 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:24:17.097 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 8.0266ms
2025-08-02 15:24:17.100 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.032ms
2025-08-02 15:24:21.403 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs - null null
2025-08-02 15:24:21.412 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web)'
2025-08-02 15:24:21.418 +03:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String, Int32, Int32) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:24:21.433 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-02 15:24:21.460 +03:00 [INF] Executed ViewResult - view Index executed in 28.3619ms.
2025-08-02 15:24:21.464 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web) in 41.546ms
2025-08-02 15:24:21.468 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web)'
2025-08-02 15:24:21.471 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs - 200 null text/html; charset=utf-8 67.4807ms
2025-08-02 15:24:21.481 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:24:21.485 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:24:21.491 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.0598ms
2025-08-02 15:24:21.493 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 7.8051ms
2025-08-02 15:24:35.926 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/Show?fileName=log20250802.txt - null null
2025-08-02 15:24:35.937 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show (KazanlakRun.Web)'
2025-08-02 15:24:35.941 +03:00 [INF] Route matched with {area = "Admin", action = "Show", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Show(System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:24:35.967 +03:00 [ERR] Unhandled exception in ReportController.Show
System.IO.IOException: The process cannot access the file 'D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Logs\log20250802.txt' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.StreamReader.ValidateArgsAndOpenPath(String path, Encoding encoding, Int32 bufferSize)
   at System.IO.File.ReadAllText(String path, Encoding encoding)
   at KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show(String fileName) in D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Areas\Admin\Controllers\LogsController.cs:line 50
   at lambda_method356(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-08-02 15:24:36.049 +03:00 [INF] Executing ViewResult, running view Show.
2025-08-02 15:24:36.154 +03:00 [INF] Executed ViewResult - view Show executed in 107.3148ms.
2025-08-02 15:24:36.162 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show (KazanlakRun.Web) in 217.2833ms
2025-08-02 15:24:36.166 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show (KazanlakRun.Web)'
2025-08-02 15:24:36.167 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/Show?fileName=log20250802.txt - 200 null text/html; charset=utf-8 241.5127ms
2025-08-02 15:24:36.172 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:24:36.172 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:24:36.179 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 6.6315ms
2025-08-02 15:24:36.187 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.9975ms
2025-08-02 15:24:40.918 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs - null null
2025-08-02 15:24:40.928 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web)'
2025-08-02 15:24:40.931 +03:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String, Int32, Int32) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:24:40.937 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-02 15:24:40.944 +03:00 [INF] Executed ViewResult - view Index executed in 7.7853ms.
2025-08-02 15:24:40.947 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web) in 10.9854ms
2025-08-02 15:24:40.951 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web)'
2025-08-02 15:24:40.955 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs - 200 null text/html; charset=utf-8 36.2928ms
2025-08-02 15:24:40.963 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:24:40.966 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:24:40.972 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.1106ms
2025-08-02 15:24:40.973 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 7.6513ms
2025-08-02 15:24:48.341 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/Download?fileName=log20250802.txt - null null
2025-08-02 15:24:48.352 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Download (KazanlakRun.Web)'
2025-08-02 15:24:48.362 +03:00 [INF] Route matched with {area = "Admin", action = "Download", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Download(System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:24:48.369 +03:00 [ERR] Unhandled exception in ReportController.Download
System.IO.IOException: The process cannot access the file 'D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Logs\log20250802.txt' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.ReadAllBytes(String path)
   at KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Download(String fileName) in D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Areas\Admin\Controllers\LogsController.cs:line 61
   at lambda_method364(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-08-02 15:24:48.380 +03:00 [INF] Executing ViewResult, running view Download.
2025-08-02 15:24:48.384 +03:00 [ERR] The view 'Download' was not found. Searched locations: ["/Areas/Admin/Views/Logs/Download.cshtml","/Areas/Admin/Views/Shared/Download.cshtml","/Views/Shared/Download.cshtml","/Pages/Shared/Download.cshtml"]
2025-08-02 15:24:48.400 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Download (KazanlakRun.Web) in 33.3021ms
2025-08-02 15:24:48.405 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Download (KazanlakRun.Web)'
2025-08-02 15:24:48.414 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Download' was not found. The following locations were searched:
/Areas/Admin/Views/Logs/Download.cshtml
/Areas/Admin/Views/Shared/Download.cshtml
/Views/Shared/Download.cshtml
/Pages/Shared/Download.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAlwaysRunResultFilters>g__Awaited|27_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-02 15:24:48.455 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The exception handler configured on ExceptionHandlerOptions produced a 404 status response. This InvalidOperationException containing the original exception was thrown since this is often due to a misconfigured ExceptionHandlingPath. If the exception handler is expected to return 404 status responses then set AllowStatusCode404Response to true.
 ---> System.InvalidOperationException: The view 'Download' was not found. The following locations were searched:
/Areas/Admin/Views/Logs/Download.cshtml
/Areas/Admin/Views/Shared/Download.cshtml
/Views/Shared/Download.cshtml
/Pages/Shared/Download.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAlwaysRunResultFilters>g__Awaited|27_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-02 15:24:48.519 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/Download?fileName=log20250802.txt - 500 null text/html; charset=utf-8 178.6421ms
2025-08-02 15:24:48.537 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7017/Admin/Logs/Download, Response status code: 500
2025-08-02 15:24:48.549 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:24:48.554 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:24:48.561 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.9851ms
2025-08-02 15:24:48.563 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 9.0069ms
2025-08-02 15:24:51.324 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:24:51.328 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 3.6804ms
2025-08-02 15:25:02.822 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/Show?fileName=log20250802.txt - null null
2025-08-02 15:25:02.830 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show (KazanlakRun.Web)'
2025-08-02 15:25:02.831 +03:00 [INF] Route matched with {area = "Admin", action = "Show", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Show(System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:25:02.834 +03:00 [ERR] Unhandled exception in ReportController.Show
System.IO.IOException: The process cannot access the file 'D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Logs\log20250802.txt' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.StreamReader.ValidateArgsAndOpenPath(String path, Encoding encoding, Int32 bufferSize)
   at System.IO.File.ReadAllText(String path, Encoding encoding)
   at KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show(String fileName) in D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Areas\Admin\Controllers\LogsController.cs:line 50
   at lambda_method356(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-08-02 15:25:02.845 +03:00 [INF] Executing ViewResult, running view Show.
2025-08-02 15:25:02.851 +03:00 [INF] Executed ViewResult - view Show executed in 6.1819ms.
2025-08-02 15:25:02.853 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show (KazanlakRun.Web) in 19.8841ms
2025-08-02 15:25:02.855 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show (KazanlakRun.Web)'
2025-08-02 15:25:02.860 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/Show?fileName=log20250802.txt - 200 null text/html; charset=utf-8 38.5114ms
2025-08-02 15:25:02.873 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:25:02.873 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:25:02.880 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.5692ms
2025-08-02 15:25:02.881 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 8.0312ms
2025-08-02 15:25:06.823 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:25:06.827 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 4.2454ms
2025-08-02 15:25:25.404 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/Download?fileName=log20250802.txt - null null
2025-08-02 15:25:25.415 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Download (KazanlakRun.Web)'
2025-08-02 15:25:25.419 +03:00 [INF] Route matched with {area = "Admin", action = "Download", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Download(System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:25:25.423 +03:00 [ERR] Unhandled exception in ReportController.Download
System.IO.IOException: The process cannot access the file 'D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Logs\log20250802.txt' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.ReadAllBytes(String path)
   at KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Download(String fileName) in D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Areas\Admin\Controllers\LogsController.cs:line 61
   at lambda_method364(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-08-02 15:25:25.433 +03:00 [INF] Executing ViewResult, running view Download.
2025-08-02 15:25:25.436 +03:00 [ERR] The view 'Download' was not found. Searched locations: ["/Areas/Admin/Views/Logs/Download.cshtml","/Areas/Admin/Views/Shared/Download.cshtml","/Views/Shared/Download.cshtml","/Pages/Shared/Download.cshtml"]
2025-08-02 15:25:25.444 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Download (KazanlakRun.Web) in 21.3396ms
2025-08-02 15:25:25.446 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Download (KazanlakRun.Web)'
2025-08-02 15:25:25.448 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Download' was not found. The following locations were searched:
/Areas/Admin/Views/Logs/Download.cshtml
/Areas/Admin/Views/Shared/Download.cshtml
/Views/Shared/Download.cshtml
/Pages/Shared/Download.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAlwaysRunResultFilters>g__Awaited|27_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-02 15:25:25.465 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The exception handler configured on ExceptionHandlerOptions produced a 404 status response. This InvalidOperationException containing the original exception was thrown since this is often due to a misconfigured ExceptionHandlingPath. If the exception handler is expected to return 404 status responses then set AllowStatusCode404Response to true.
 ---> System.InvalidOperationException: The view 'Download' was not found. The following locations were searched:
/Areas/Admin/Views/Logs/Download.cshtml
/Areas/Admin/Views/Shared/Download.cshtml
/Views/Shared/Download.cshtml
/Pages/Shared/Download.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAlwaysRunResultFilters>g__Awaited|27_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-02 15:25:25.486 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/Download?fileName=log20250802.txt - 500 null text/html; charset=utf-8 81.6662ms
2025-08-02 15:25:25.496 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7017/Admin/Logs/Download, Response status code: 500
2025-08-02 15:25:25.509 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:25:25.511 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:25:25.521 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 9.5518ms
2025-08-02 15:25:25.522 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.0165ms
2025-08-02 15:30:35.617 +03:00 [INF] User profile is available. Using 'C:\Users\nik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-02 15:30:37.869 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 15:30:37.886 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 15:30:37.890 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 15:30:37.895 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 15:30:37.905 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-02 15:30:37.916 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-08-02 15:30:37.980 +03:00 [INF] Now listening on: https://localhost:7017
2025-08-02 15:30:37.981 +03:00 [INF] Now listening on: http://localhost:5122
2025-08-02 15:30:38.006 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-02 15:30:38.012 +03:00 [INF] Hosting environment: Development
2025-08-02 15:30:38.013 +03:00 [INF] Content root path: D:\_KazRun\KazRun\KazRun\KazanlakRun.Web
2025-08-02 15:30:38.106 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/Download?fileName=log20250802.txt - null null
2025-08-02 15:30:38.176 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/Download?fileName=log20250802.txt - 404 0 null 69.7992ms
2025-08-02 15:30:38.184 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7017/Admin/Logs/Download, Response status code: 404
2025-08-02 15:30:54.724 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/Download?fileName=log20250802.txt - null null
2025-08-02 15:30:54.746 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/Download?fileName=log20250802.txt - 404 0 null 22.2457ms
2025-08-02 15:30:54.760 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7017/Admin/Logs/Download, Response status code: 404
2025-08-02 15:32:12.143 +03:00 [INF] User profile is available. Using 'C:\Users\nik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-02 15:32:14.388 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 15:32:14.403 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 15:32:14.406 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 15:32:14.408 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 15:32:14.416 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-02 15:32:14.426 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-08-02 15:32:14.488 +03:00 [INF] Now listening on: https://localhost:7017
2025-08-02 15:32:14.489 +03:00 [INF] Now listening on: http://localhost:5122
2025-08-02 15:32:14.513 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-02 15:32:14.516 +03:00 [INF] Hosting environment: Development
2025-08-02 15:32:14.516 +03:00 [INF] Content root path: D:\_KazRun\KazRun\KazRun\KazanlakRun.Web
2025-08-02 15:32:14.825 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/ - null null
2025-08-02 15:32:14.895 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Public.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:32:14.906 +03:00 [INF] Route matched with {area = "Public", action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller KazanlakRun.Web.Areas.Public.Controllers.HomeController (KazanlakRun.Web).
2025-08-02 15:32:14.923 +03:00 [INF] Executing RedirectResult, redirecting to /Admin.
2025-08-02 15:32:14.928 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Public.Controllers.HomeController.Index (KazanlakRun.Web) in 16.4084ms
2025-08-02 15:32:14.931 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Public.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:32:14.936 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/ - 302 0 null 111.6695ms
2025-08-02 15:32:14.943 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin - null null
2025-08-02 15:32:14.955 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:32:14.960 +03:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller KazanlakRun.Web.Areas.Admin.Controllers.HomeController (KazanlakRun.Web).
2025-08-02 15:32:14.971 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-02 15:32:15.078 +03:00 [INF] Executed ViewResult - view Index executed in 112.2ms.
2025-08-02 15:32:15.084 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web) in 119.8956ms
2025-08-02 15:32:15.087 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:32:15.093 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:32:15.094 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin - 200 null text/html; charset=utf-8 151.0649ms
2025-08-02 15:32:15.096 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:32:15.103 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 9.6368ms
2025-08-02 15:32:15.142 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.8225ms
2025-08-02 15:32:19.781 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs - null null
2025-08-02 15:32:19.803 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web)'
2025-08-02 15:32:19.825 +03:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String, Int32, Int32) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:32:19.858 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-02 15:32:19.907 +03:00 [INF] Executed ViewResult - view Index executed in 50.6894ms.
2025-08-02 15:32:19.913 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web) in 79.2067ms
2025-08-02 15:32:19.916 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web)'
2025-08-02 15:32:19.920 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs - 200 null text/html; charset=utf-8 138.936ms
2025-08-02 15:32:19.933 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:32:19.938 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:32:19.948 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 10.0576ms
2025-08-02 15:32:19.961 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.9366ms
2025-08-02 15:32:23.218 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/DownloadFile?fileName=log20250802.txt - null null
2025-08-02 15:32:23.234 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web)'
2025-08-02 15:32:23.239 +03:00 [INF] Route matched with {area = "Admin", action = "DownloadFile", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DownloadFile(System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:32:23.260 +03:00 [ERR] Unhandled exception in ReportController.DownloadFile
System.IO.IOException: The process cannot access the file 'D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Logs\log20250802.txt' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.ReadAllBytes(String path)
   at KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile(String fileName) in D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Areas\Admin\Controllers\LogsController.cs:line 61
   at lambda_method165(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-08-02 15:32:23.315 +03:00 [INF] Executing ViewResult, running view DownloadFile.
2025-08-02 15:32:23.325 +03:00 [ERR] The view 'DownloadFile' was not found. Searched locations: ["/Areas/Admin/Views/Logs/DownloadFile.cshtml","/Areas/Admin/Views/Shared/DownloadFile.cshtml","/Views/Shared/DownloadFile.cshtml","/Pages/Shared/DownloadFile.cshtml"]
2025-08-02 15:32:23.343 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web) in 100.5776ms
2025-08-02 15:32:23.347 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web)'
2025-08-02 15:32:23.351 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'DownloadFile' was not found. The following locations were searched:
/Areas/Admin/Views/Logs/DownloadFile.cshtml
/Areas/Admin/Views/Shared/DownloadFile.cshtml
/Views/Shared/DownloadFile.cshtml
/Pages/Shared/DownloadFile.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAlwaysRunResultFilters>g__Awaited|27_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-02 15:32:23.377 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The exception handler configured on ExceptionHandlerOptions produced a 404 status response. This InvalidOperationException containing the original exception was thrown since this is often due to a misconfigured ExceptionHandlingPath. If the exception handler is expected to return 404 status responses then set AllowStatusCode404Response to true.
 ---> System.InvalidOperationException: The view 'DownloadFile' was not found. The following locations were searched:
/Areas/Admin/Views/Logs/DownloadFile.cshtml
/Areas/Admin/Views/Shared/DownloadFile.cshtml
/Views/Shared/DownloadFile.cshtml
/Pages/Shared/DownloadFile.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAlwaysRunResultFilters>g__Awaited|27_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-02 15:32:23.418 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/DownloadFile?fileName=log20250802.txt - 500 null text/html; charset=utf-8 199.898ms
2025-08-02 15:32:23.427 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7017/Admin/Logs/DownloadFile, Response status code: 500
2025-08-02 15:32:23.433 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:32:23.436 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:32:23.440 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 3.6697ms
2025-08-02 15:32:23.445 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.4727ms
2025-08-02 15:33:20.337 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/Download?fileName=log20250802.txt - null null
2025-08-02 15:33:20.356 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/Download?fileName=log20250802.txt - 404 0 null 18.6951ms
2025-08-02 15:33:20.366 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7017/Admin/Logs/Download, Response status code: 404
2025-08-02 15:33:43.452 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/DownloadFile?fileName=log20250802.txt - null null
2025-08-02 15:33:43.458 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web)'
2025-08-02 15:33:43.460 +03:00 [INF] Route matched with {area = "Admin", action = "DownloadFile", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DownloadFile(System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:33:43.463 +03:00 [ERR] Unhandled exception in ReportController.DownloadFile
System.IO.IOException: The process cannot access the file 'D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Logs\log20250802.txt' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.ReadAllBytes(String path)
   at KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile(String fileName) in D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Areas\Admin\Controllers\LogsController.cs:line 61
   at lambda_method165(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-08-02 15:33:43.468 +03:00 [INF] Executing ViewResult, running view DownloadFile.
2025-08-02 15:33:43.469 +03:00 [ERR] The view 'DownloadFile' was not found. Searched locations: ["/Areas/Admin/Views/Logs/DownloadFile.cshtml","/Areas/Admin/Views/Shared/DownloadFile.cshtml","/Views/Shared/DownloadFile.cshtml","/Pages/Shared/DownloadFile.cshtml"]
2025-08-02 15:33:43.473 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web) in 10.2932ms
2025-08-02 15:33:43.474 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web)'
2025-08-02 15:33:43.476 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'DownloadFile' was not found. The following locations were searched:
/Areas/Admin/Views/Logs/DownloadFile.cshtml
/Areas/Admin/Views/Shared/DownloadFile.cshtml
/Views/Shared/DownloadFile.cshtml
/Pages/Shared/DownloadFile.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAlwaysRunResultFilters>g__Awaited|27_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-02 15:33:43.482 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The exception handler configured on ExceptionHandlerOptions produced a 404 status response. This InvalidOperationException containing the original exception was thrown since this is often due to a misconfigured ExceptionHandlingPath. If the exception handler is expected to return 404 status responses then set AllowStatusCode404Response to true.
 ---> System.InvalidOperationException: The view 'DownloadFile' was not found. The following locations were searched:
/Areas/Admin/Views/Logs/DownloadFile.cshtml
/Areas/Admin/Views/Shared/DownloadFile.cshtml
/Views/Shared/DownloadFile.cshtml
/Pages/Shared/DownloadFile.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAlwaysRunResultFilters>g__Awaited|27_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-02 15:33:43.491 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/DownloadFile?fileName=log20250802.txt - 500 null text/html; charset=utf-8 39.148ms
2025-08-02 15:33:43.499 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7017/Admin/Logs/DownloadFile, Response status code: 500
2025-08-02 15:33:43.507 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:33:43.507 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:33:43.512 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 5.0871ms
2025-08-02 15:33:43.520 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.644ms
2025-08-02 15:33:43.547 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/favicon.ico - null null
2025-08-02 15:33:43.558 +03:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\wwwroot\favicon.ico'
2025-08-02 15:33:43.560 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/favicon.ico - 200 3262 image/x-icon 12.8685ms
2025-08-02 15:33:45.171 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/DownloadFile?fileName=log20250802.txt - null null
2025-08-02 15:33:45.178 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web)'
2025-08-02 15:33:45.183 +03:00 [INF] Route matched with {area = "Admin", action = "DownloadFile", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DownloadFile(System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:33:45.185 +03:00 [ERR] Unhandled exception in ReportController.DownloadFile
System.IO.IOException: The process cannot access the file 'D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Logs\log20250802.txt' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.ReadAllBytes(String path)
   at KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile(String fileName) in D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Areas\Admin\Controllers\LogsController.cs:line 61
   at lambda_method165(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-08-02 15:33:45.190 +03:00 [INF] Executing ViewResult, running view DownloadFile.
2025-08-02 15:33:45.193 +03:00 [ERR] The view 'DownloadFile' was not found. Searched locations: ["/Areas/Admin/Views/Logs/DownloadFile.cshtml","/Areas/Admin/Views/Shared/DownloadFile.cshtml","/Views/Shared/DownloadFile.cshtml","/Pages/Shared/DownloadFile.cshtml"]
2025-08-02 15:33:45.195 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web) in 10.8617ms
2025-08-02 15:33:45.197 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web)'
2025-08-02 15:33:45.198 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'DownloadFile' was not found. The following locations were searched:
/Areas/Admin/Views/Logs/DownloadFile.cshtml
/Areas/Admin/Views/Shared/DownloadFile.cshtml
/Views/Shared/DownloadFile.cshtml
/Pages/Shared/DownloadFile.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAlwaysRunResultFilters>g__Awaited|27_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-02 15:33:45.204 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The exception handler configured on ExceptionHandlerOptions produced a 404 status response. This InvalidOperationException containing the original exception was thrown since this is often due to a misconfigured ExceptionHandlingPath. If the exception handler is expected to return 404 status responses then set AllowStatusCode404Response to true.
 ---> System.InvalidOperationException: The view 'DownloadFile' was not found. The following locations were searched:
/Areas/Admin/Views/Logs/DownloadFile.cshtml
/Areas/Admin/Views/Shared/DownloadFile.cshtml
/Views/Shared/DownloadFile.cshtml
/Pages/Shared/DownloadFile.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAlwaysRunResultFilters>g__Awaited|27_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-02 15:33:45.213 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/DownloadFile?fileName=log20250802.txt - 500 null text/html; charset=utf-8 41.8286ms
2025-08-02 15:33:45.218 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7017/Admin/Logs/DownloadFile, Response status code: 500
2025-08-02 15:33:45.227 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:33:45.227 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:33:45.232 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 5.4085ms
2025-08-02 15:33:45.239 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.5863ms
2025-08-02 15:33:45.264 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/favicon.ico - null null
2025-08-02 15:33:45.267 +03:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\wwwroot\favicon.ico'
2025-08-02 15:33:45.269 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/favicon.ico - 200 3262 image/x-icon 5.2346ms
2025-08-02 15:33:48.233 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:33:48.237 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 4.0698ms
2025-08-02 15:33:50.682 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/DownloadFile?fileName=log20250802.txt - null null
2025-08-02 15:33:50.698 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web)'
2025-08-02 15:33:50.700 +03:00 [INF] Route matched with {area = "Admin", action = "DownloadFile", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DownloadFile(System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:33:50.703 +03:00 [ERR] Unhandled exception in ReportController.DownloadFile
System.IO.IOException: The process cannot access the file 'D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Logs\log20250802.txt' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.ReadAllBytes(String path)
   at KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile(String fileName) in D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Areas\Admin\Controllers\LogsController.cs:line 61
   at lambda_method165(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-08-02 15:33:50.709 +03:00 [INF] Executing ViewResult, running view DownloadFile.
2025-08-02 15:33:50.712 +03:00 [ERR] The view 'DownloadFile' was not found. Searched locations: ["/Areas/Admin/Views/Logs/DownloadFile.cshtml","/Areas/Admin/Views/Shared/DownloadFile.cshtml","/Views/Shared/DownloadFile.cshtml","/Pages/Shared/DownloadFile.cshtml"]
2025-08-02 15:33:50.715 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web) in 12.2851ms
2025-08-02 15:33:50.716 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web)'
2025-08-02 15:33:50.717 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'DownloadFile' was not found. The following locations were searched:
/Areas/Admin/Views/Logs/DownloadFile.cshtml
/Areas/Admin/Views/Shared/DownloadFile.cshtml
/Views/Shared/DownloadFile.cshtml
/Pages/Shared/DownloadFile.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAlwaysRunResultFilters>g__Awaited|27_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-02 15:33:50.723 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The exception handler configured on ExceptionHandlerOptions produced a 404 status response. This InvalidOperationException containing the original exception was thrown since this is often due to a misconfigured ExceptionHandlingPath. If the exception handler is expected to return 404 status responses then set AllowStatusCode404Response to true.
 ---> System.InvalidOperationException: The view 'DownloadFile' was not found. The following locations were searched:
/Areas/Admin/Views/Logs/DownloadFile.cshtml
/Areas/Admin/Views/Shared/DownloadFile.cshtml
/Views/Shared/DownloadFile.cshtml
/Pages/Shared/DownloadFile.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAlwaysRunResultFilters>g__Awaited|27_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-02 15:33:50.733 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/DownloadFile?fileName=log20250802.txt - 500 null text/html; charset=utf-8 51.1721ms
2025-08-02 15:33:50.742 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7017/Admin/Logs/DownloadFile, Response status code: 500
2025-08-02 15:33:50.754 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:33:50.755 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:33:50.766 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.7222ms
2025-08-02 15:33:50.766 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 10.4619ms
2025-08-02 15:37:10.951 +03:00 [INF] User profile is available. Using 'C:\Users\nik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-02 15:37:13.205 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 15:37:13.223 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 15:37:13.230 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 15:37:13.231 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 15:37:13.240 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-02 15:37:13.250 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-08-02 15:37:13.311 +03:00 [INF] Now listening on: https://localhost:7017
2025-08-02 15:37:13.314 +03:00 [INF] Now listening on: http://localhost:5122
2025-08-02 15:37:13.337 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-02 15:37:13.343 +03:00 [INF] Hosting environment: Development
2025-08-02 15:37:13.344 +03:00 [INF] Content root path: D:\_KazRun\KazRun\KazRun\KazanlakRun.Web
2025-08-02 15:37:16.354 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/ - null null
2025-08-02 15:37:16.420 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Public.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:37:16.428 +03:00 [INF] Route matched with {area = "Public", action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller KazanlakRun.Web.Areas.Public.Controllers.HomeController (KazanlakRun.Web).
2025-08-02 15:37:16.440 +03:00 [INF] Executing RedirectResult, redirecting to /Admin.
2025-08-02 15:37:16.446 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Public.Controllers.HomeController.Index (KazanlakRun.Web) in 13.6714ms
2025-08-02 15:37:16.449 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Public.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:37:16.452 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/ - 302 0 null 98.9144ms
2025-08-02 15:37:16.456 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin - null null
2025-08-02 15:37:16.464 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:37:16.466 +03:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller KazanlakRun.Web.Areas.Admin.Controllers.HomeController (KazanlakRun.Web).
2025-08-02 15:37:16.471 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-02 15:37:16.522 +03:00 [INF] Executed ViewResult - view Index executed in 52.5445ms.
2025-08-02 15:37:16.527 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web) in 58.9784ms
2025-08-02 15:37:16.530 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:37:16.534 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin - 200 null text/html; charset=utf-8 77.7744ms
2025-08-02 15:37:16.540 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:37:16.541 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:37:16.548 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 8.6794ms
2025-08-02 15:37:16.566 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.7749ms
2025-08-02 15:37:19.698 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/DownloadFile?fileName=log20250802.txt - null null
2025-08-02 15:37:19.707 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web)'
2025-08-02 15:37:19.713 +03:00 [INF] Route matched with {area = "Admin", action = "DownloadFile", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DownloadFile(System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:37:19.729 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-02 15:37:19.745 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web) in 30.2532ms
2025-08-02 15:37:19.747 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web)'
2025-08-02 15:37:19.749 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/DownloadFile?fileName=log20250802.txt - 500 null application/problem+json; charset=utf-8 50.5785ms
2025-08-02 15:37:24.435 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs - null null
2025-08-02 15:37:24.457 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web)'
2025-08-02 15:37:24.464 +03:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String, Int32, Int32) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:37:24.484 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-02 15:37:24.536 +03:00 [INF] Executed ViewResult - view Index executed in 53.5218ms.
2025-08-02 15:37:24.543 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web) in 70.7072ms
2025-08-02 15:37:24.549 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web)'
2025-08-02 15:37:24.553 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs - 200 null text/html; charset=utf-8 118.0902ms
2025-08-02 15:37:24.569 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:37:24.575 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:37:24.586 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 10.796ms
2025-08-02 15:37:24.596 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.2216ms
2025-08-02 15:37:26.264 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/DownloadFile?fileName=log20250802.txt - null null
2025-08-02 15:37:26.276 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web)'
2025-08-02 15:37:26.278 +03:00 [INF] Route matched with {area = "Admin", action = "DownloadFile", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DownloadFile(System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:37:26.285 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-02 15:37:26.289 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web) in 5.5036ms
2025-08-02 15:37:26.293 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web)'
2025-08-02 15:37:26.296 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/DownloadFile?fileName=log20250802.txt - 500 null application/problem+json; charset=utf-8 32.2774ms
2025-08-02 15:38:16.267 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:38:16.271 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 4.0819ms
2025-08-02 15:38:19.397 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/Show?fileName=log20250802.txt - null null
2025-08-02 15:38:19.414 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show (KazanlakRun.Web)'
2025-08-02 15:38:19.420 +03:00 [INF] Route matched with {area = "Admin", action = "Show", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Show(System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:38:19.438 +03:00 [ERR] Unhandled exception in ReportController.Show
System.IO.IOException: The process cannot access the file 'D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Logs\log20250802.txt' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.StreamReader.ValidateArgsAndOpenPath(String path, Encoding encoding, Int32 bufferSize)
   at System.IO.File.ReadAllText(String path, Encoding encoding)
   at KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show(String fileName) in D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Areas\Admin\Controllers\LogsController.cs:line 50
   at lambda_method167(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-08-02 15:38:19.486 +03:00 [INF] Executing ViewResult, running view Show.
2025-08-02 15:38:19.595 +03:00 [INF] Executed ViewResult - view Show executed in 110.0504ms.
2025-08-02 15:38:19.602 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show (KazanlakRun.Web) in 174.9521ms
2025-08-02 15:38:19.606 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show (KazanlakRun.Web)'
2025-08-02 15:38:19.610 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/Show?fileName=log20250802.txt - 200 null text/html; charset=utf-8 212.9887ms
2025-08-02 15:38:19.624 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:38:19.631 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:38:19.643 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.1852ms
2025-08-02 15:38:19.644 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 12.3308ms
2025-08-02 15:38:23.081 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs - null null
2025-08-02 15:38:23.086 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web)'
2025-08-02 15:38:23.088 +03:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String, Int32, Int32) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:38:23.092 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-02 15:38:23.098 +03:00 [INF] Executed ViewResult - view Index executed in 6.3585ms.
2025-08-02 15:38:23.101 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web) in 9.9158ms
2025-08-02 15:38:23.103 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web)'
2025-08-02 15:38:23.105 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs - 200 null text/html; charset=utf-8 23.9686ms
2025-08-02 15:38:23.114 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:38:23.117 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:38:23.122 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 4.4535ms
2025-08-02 15:38:23.123 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.0291ms
2025-08-02 15:38:28.277 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/DownloadFile?fileName=log20250802.txt - null null
2025-08-02 15:38:28.282 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web)'
2025-08-02 15:38:28.284 +03:00 [INF] Route matched with {area = "Admin", action = "DownloadFile", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DownloadFile(System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:38:28.287 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-02 15:38:28.291 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web) in 4.1557ms
2025-08-02 15:38:28.295 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web)'
2025-08-02 15:38:28.296 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/DownloadFile?fileName=log20250802.txt - 500 null application/problem+json; charset=utf-8 19.0236ms
2025-08-02 15:38:31.236 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:38:31.240 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 4.2758ms
2025-08-02 15:38:31.847 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:38:31.850 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 3.6375ms
2025-08-02 15:38:35.545 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Report/RunnersByAidStation - null null
2025-08-02 15:38:35.552 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.ReportController.RunnersByAidStation (KazanlakRun.Web)'
2025-08-02 15:38:35.564 +03:00 [INF] Route matched with {area = "Admin", action = "RunnersByAidStation", controller = "Report", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RunnersByAidStation() on controller KazanlakRun.Web.Areas.Admin.Controllers.ReportController (KazanlakRun.Web).
2025-08-02 15:38:35.951 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name], [a].[ShortName], [t].[AidStationId], [t].[DistanceId], [t].[Id], [t].[Distans], [t].[RegRunners]
FROM [AidStations] AS [a]
LEFT JOIN (
    SELECT [a0].[AidStationId], [a0].[DistanceId], [d].[Id], [d].[Distans], [d].[RegRunners]
    FROM [AidStationDistances] AS [a0]
    INNER JOIN [Distances] AS [d] ON [a0].[DistanceId] = [d].[Id]
) AS [t] ON [a].[Id] = [t].[AidStationId]
ORDER BY [a].[Id], [t].[AidStationId], [t].[DistanceId]
2025-08-02 15:38:35.984 +03:00 [INF] Executing ViewResult, running view RunnersByAidStation.
2025-08-02 15:38:35.993 +03:00 [INF] Executed ViewResult - view RunnersByAidStation executed in 10.3304ms.
2025-08-02 15:38:35.996 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.ReportController.RunnersByAidStation (KazanlakRun.Web) in 427.6425ms
2025-08-02 15:38:36.000 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.ReportController.RunnersByAidStation (KazanlakRun.Web)'
2025-08-02 15:38:36.005 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Report/RunnersByAidStation - 200 null text/html; charset=utf-8 459.8272ms
2025-08-02 15:38:36.011 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:38:36.011 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:38:36.019 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 7.6852ms
2025-08-02 15:38:36.020 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.2867ms
2025-08-02 15:38:37.874 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Report/VolunteersByAidStation - null null
2025-08-02 15:38:37.882 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.ReportController.VolunteersByAidStation (KazanlakRun.Web)'
2025-08-02 15:38:37.891 +03:00 [INF] Route matched with {area = "Admin", action = "VolunteersByAidStation", controller = "Report", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VolunteersByAidStation(Int32, System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.ReportController (KazanlakRun.Web).
2025-08-02 15:38:38.019 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-02 15:38:38.028 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name], [a].[ShortName], [t0].[Id], [t0].[AidStationId], [t0].[Email], [t0].[Names], [t0].[Phone], [t0].[UserId], [t0].[VolunteerId], [t0].[RoleId], [t0].[Id0], [t0].[Name]
FROM [AidStations] AS [a]
LEFT JOIN (
    SELECT [v].[Id], [v].[AidStationId], [v].[Email], [v].[Names], [v].[Phone], [v].[UserId], [t].[VolunteerId], [t].[RoleId], [t].[Id] AS [Id0], [t].[Name]
    FROM [Volunteers] AS [v]
    LEFT JOIN (
        SELECT [v0].[VolunteerId], [v0].[RoleId], [r].[Id], [r].[Name]
        FROM [VolunteerRoles] AS [v0]
        INNER JOIN [Roles] AS [r] ON [v0].[RoleId] = [r].[Id]
    ) AS [t] ON [v].[Id] = [t].[VolunteerId]
) AS [t0] ON [a].[Id] = [t0].[AidStationId]
ORDER BY [a].[Id], [t0].[Id], [t0].[VolunteerId], [t0].[RoleId]
2025-08-02 15:38:38.042 +03:00 [INF] Executing ViewResult, running view VolunteersByAidStation.
2025-08-02 15:38:38.073 +03:00 [INF] Executed ViewResult - view VolunteersByAidStation executed in 31.8554ms.
2025-08-02 15:38:38.076 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.ReportController.VolunteersByAidStation (KazanlakRun.Web) in 179.5949ms
2025-08-02 15:38:38.078 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.ReportController.VolunteersByAidStation (KazanlakRun.Web)'
2025-08-02 15:38:38.082 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Report/VolunteersByAidStation - 200 null text/html; charset=utf-8 208.7153ms
2025-08-02 15:38:38.091 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:38:38.091 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:38:38.097 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.3662ms
2025-08-02 15:38:38.097 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 6.7298ms
2025-08-02 15:38:39.640 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Report/GoodsByAidStation - null null
2025-08-02 15:38:39.651 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.ReportController.GoodsByAidStation (KazanlakRun.Web)'
2025-08-02 15:38:39.662 +03:00 [INF] Route matched with {area = "Admin", action = "GoodsByAidStation", controller = "Report", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoodsByAidStation() on controller KazanlakRun.Web.Areas.Admin.Controllers.ReportController (KazanlakRun.Web).
2025-08-02 15:38:39.699 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Measure], [g].[Name], [g].[Quantity], [g].[QuantityOneRunner]
FROM [Goods] AS [g]
WHERE [g].[QuantityOneRunner] > 0.0E0
2025-08-02 15:38:39.712 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name], [a].[ShortName], [t].[AidStationId], [t].[DistanceId], [t].[Id], [t].[Distans], [t].[RegRunners]
FROM [AidStations] AS [a]
LEFT JOIN (
    SELECT [a0].[AidStationId], [a0].[DistanceId], [d].[Id], [d].[Distans], [d].[RegRunners]
    FROM [AidStationDistances] AS [a0]
    INNER JOIN [Distances] AS [d] ON [a0].[DistanceId] = [d].[Id]
) AS [t] ON [a].[Id] = [t].[AidStationId]
ORDER BY [a].[Id], [t].[AidStationId], [t].[DistanceId]
2025-08-02 15:38:39.721 +03:00 [INF] Executing ViewResult, running view GoodsByAidStation.
2025-08-02 15:38:39.738 +03:00 [INF] Executed ViewResult - view GoodsByAidStation executed in 17.7812ms.
2025-08-02 15:38:39.744 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.ReportController.GoodsByAidStation (KazanlakRun.Web) in 79.0148ms
2025-08-02 15:38:39.747 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.ReportController.GoodsByAidStation (KazanlakRun.Web)'
2025-08-02 15:38:39.748 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Report/GoodsByAidStation - 200 null text/html; charset=utf-8 108.378ms
2025-08-02 15:38:39.754 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:38:39.756 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:38:39.764 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 9.5281ms
2025-08-02 15:38:39.771 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.8551ms
2025-08-02 15:38:42.915 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs - null null
2025-08-02 15:38:42.920 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web)'
2025-08-02 15:38:42.922 +03:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String, Int32, Int32) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:38:42.926 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-02 15:38:42.931 +03:00 [INF] Executed ViewResult - view Index executed in 5.4051ms.
2025-08-02 15:38:42.933 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web) in 8.5903ms
2025-08-02 15:38:42.937 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web)'
2025-08-02 15:38:42.941 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs - 200 null text/html; charset=utf-8 25.6675ms
2025-08-02 15:38:42.951 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:38:42.954 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:38:42.957 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 3.1297ms
2025-08-02 15:38:42.961 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.1042ms
2025-08-02 15:38:44.173 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/DownloadFile?fileName=log20250802.txt - null null
2025-08-02 15:38:44.181 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web)'
2025-08-02 15:38:44.184 +03:00 [INF] Route matched with {area = "Admin", action = "DownloadFile", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DownloadFile(System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:38:44.189 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-02 15:38:44.195 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web) in 6.2285ms
2025-08-02 15:38:44.197 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web)'
2025-08-02 15:38:44.199 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/DownloadFile?fileName=log20250802.txt - 500 null application/problem+json; charset=utf-8 25.2241ms
2025-08-02 15:41:16.098 +03:00 [INF] User profile is available. Using 'C:\Users\nik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-02 15:41:18.452 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 15:41:18.486 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 15:41:18.492 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 15:41:18.497 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 15:41:18.518 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-02 15:41:18.545 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-08-02 15:41:18.710 +03:00 [INF] Now listening on: https://localhost:7017
2025-08-02 15:41:18.712 +03:00 [INF] Now listening on: http://localhost:5122
2025-08-02 15:41:18.762 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-02 15:41:18.765 +03:00 [INF] Hosting environment: Development
2025-08-02 15:41:18.767 +03:00 [INF] Content root path: D:\_KazRun\KazRun\KazRun\KazanlakRun.Web
2025-08-02 15:41:20.788 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/ - null null
2025-08-02 15:41:20.993 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Public.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:41:21.013 +03:00 [INF] Route matched with {area = "Public", action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller KazanlakRun.Web.Areas.Public.Controllers.HomeController (KazanlakRun.Web).
2025-08-02 15:41:21.052 +03:00 [INF] Executing RedirectResult, redirecting to /Admin.
2025-08-02 15:41:21.062 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Public.Controllers.HomeController.Index (KazanlakRun.Web) in 37.4527ms
2025-08-02 15:41:21.066 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Public.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:41:21.079 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/ - 302 0 null 291.7975ms
2025-08-02 15:41:21.084 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin - null null
2025-08-02 15:41:21.106 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:41:21.113 +03:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller KazanlakRun.Web.Areas.Admin.Controllers.HomeController (KazanlakRun.Web).
2025-08-02 15:41:21.127 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-02 15:41:21.258 +03:00 [INF] Executed ViewResult - view Index executed in 137.1311ms.
2025-08-02 15:41:21.263 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web) in 145.4901ms
2025-08-02 15:41:21.266 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:41:21.272 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin - 200 null text/html; charset=utf-8 187.9987ms
2025-08-02 15:41:21.337 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:41:21.337 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:41:21.345 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 8.7601ms
2025-08-02 15:41:21.380 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.9563ms
2025-08-02 15:41:25.724 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs - null null
2025-08-02 15:41:25.735 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web)'
2025-08-02 15:41:25.744 +03:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String, Int32, Int32) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:41:25.753 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-02 15:41:25.767 +03:00 [INF] Executed ViewResult - view Index executed in 14.4499ms.
2025-08-02 15:41:25.769 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web) in 22.9247ms
2025-08-02 15:41:25.771 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web)'
2025-08-02 15:41:25.773 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs - 200 null text/html; charset=utf-8 49.3245ms
2025-08-02 15:41:25.785 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:41:25.788 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:41:25.794 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 6.2698ms
2025-08-02 15:41:25.800 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.2456ms
2025-08-02 15:41:27.255 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/DownloadFile?fileName=log20250802.txt - null null
2025-08-02 15:41:27.271 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web)'
2025-08-02 15:41:27.275 +03:00 [INF] Route matched with {area = "Admin", action = "DownloadFile", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DownloadFile(System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:41:27.310 +03:00 [INF] Executing FileContentResult, sending file with download name 'log20250802.txt' ...
2025-08-02 15:41:27.320 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web) in 39.2596ms
2025-08-02 15:41:27.325 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.DownloadFile (KazanlakRun.Web)'
2025-08-02 15:41:27.328 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/DownloadFile?fileName=log20250802.txt - 200 158685 application/octet-stream 73.6258ms
2025-08-02 15:41:31.629 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/Show?fileName=log20250802.txt - null null
2025-08-02 15:41:31.635 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show (KazanlakRun.Web)'
2025-08-02 15:41:31.637 +03:00 [INF] Route matched with {area = "Admin", action = "Show", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Show(System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:41:31.646 +03:00 [ERR] Unhandled exception in ReportController.Show
System.IO.IOException: The process cannot access the file 'D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Logs\log20250802.txt' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.StreamReader.ValidateArgsAndOpenPath(String path, Encoding encoding, Int32 bufferSize)
   at System.IO.File.ReadAllText(String path, Encoding encoding)
   at KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show(String fileName) in D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Areas\Admin\Controllers\LogsController.cs:line 50
   at lambda_method167(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-08-02 15:41:31.677 +03:00 [INF] Executing ViewResult, running view Show.
2025-08-02 15:41:31.704 +03:00 [INF] Executed ViewResult - view Show executed in 27.5812ms.
2025-08-02 15:41:31.706 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show (KazanlakRun.Web) in 66.2458ms
2025-08-02 15:41:31.710 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show (KazanlakRun.Web)'
2025-08-02 15:41:31.712 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/Show?fileName=log20250802.txt - 200 null text/html; charset=utf-8 82.853ms
2025-08-02 15:41:31.721 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:41:31.721 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:41:31.726 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 5.1792ms
2025-08-02 15:41:31.735 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.6068ms
2025-08-02 15:41:50.557 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:41:50.562 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 5.0449ms
2025-08-02 15:42:04.340 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/Show?fileName=log20250802.txt - null null
2025-08-02 15:42:04.351 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show (KazanlakRun.Web)'
2025-08-02 15:42:04.353 +03:00 [INF] Route matched with {area = "Admin", action = "Show", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Show(System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:42:04.357 +03:00 [ERR] Unhandled exception in ReportController.Show
System.IO.IOException: The process cannot access the file 'D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Logs\log20250802.txt' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.StreamReader.ValidateArgsAndOpenPath(String path, Encoding encoding, Int32 bufferSize)
   at System.IO.File.ReadAllText(String path, Encoding encoding)
   at KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show(String fileName) in D:\_KazRun\KazRun\KazRun\KazanlakRun.Web\Areas\Admin\Controllers\LogsController.cs:line 50
   at lambda_method167(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-08-02 15:42:04.363 +03:00 [INF] Executing ViewResult, running view Show.
2025-08-02 15:42:04.366 +03:00 [INF] Executed ViewResult - view Show executed in 2.7334ms.
2025-08-02 15:42:04.368 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show (KazanlakRun.Web) in 11.7524ms
2025-08-02 15:42:04.370 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show (KazanlakRun.Web)'
2025-08-02 15:42:04.372 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/Show?fileName=log20250802.txt - 200 null text/html; charset=utf-8 32.2391ms
2025-08-02 15:42:04.383 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:42:04.386 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:42:04.389 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.9962ms
2025-08-02 15:42:04.390 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 3.7656ms
2025-08-02 15:42:10.986 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:42:10.990 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 3.806ms
2025-08-02 15:44:15.611 +03:00 [INF] User profile is available. Using 'C:\Users\nik\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-02 15:44:16.321 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 15:44:16.336 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 15:44:16.338 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 15:44:16.342 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 15:44:16.350 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-02 15:44:16.359 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-08-02 15:44:16.419 +03:00 [INF] Now listening on: https://localhost:7017
2025-08-02 15:44:16.421 +03:00 [INF] Now listening on: http://localhost:5122
2025-08-02 15:44:16.446 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-02 15:44:16.449 +03:00 [INF] Hosting environment: Development
2025-08-02 15:44:16.450 +03:00 [INF] Content root path: D:\_KazRun\KazRun\KazRun\KazanlakRun.Web
2025-08-02 15:44:16.802 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/ - null null
2025-08-02 15:44:16.867 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Public.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:44:16.877 +03:00 [INF] Route matched with {area = "Public", action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller KazanlakRun.Web.Areas.Public.Controllers.HomeController (KazanlakRun.Web).
2025-08-02 15:44:16.890 +03:00 [INF] Executing RedirectResult, redirecting to /Admin.
2025-08-02 15:44:16.895 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Public.Controllers.HomeController.Index (KazanlakRun.Web) in 12.6949ms
2025-08-02 15:44:16.898 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Public.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:44:16.901 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/ - 302 0 null 100.0954ms
2025-08-02 15:44:16.905 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin - null null
2025-08-02 15:44:16.916 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:44:16.918 +03:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller KazanlakRun.Web.Areas.Admin.Controllers.HomeController (KazanlakRun.Web).
2025-08-02 15:44:16.923 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-02 15:44:16.972 +03:00 [INF] Executed ViewResult - view Index executed in 50.8479ms.
2025-08-02 15:44:16.977 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web) in 56.9335ms
2025-08-02 15:44:16.980 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.HomeController.Index (KazanlakRun.Web)'
2025-08-02 15:44:16.986 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin - 200 null text/html; charset=utf-8 80.7236ms
2025-08-02 15:44:16.994 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:44:16.994 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:44:17.001 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 6.408ms
2025-08-02 15:44:17.018 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.5541ms
2025-08-02 15:44:31.222 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs - null null
2025-08-02 15:44:31.239 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web)'
2025-08-02 15:44:31.256 +03:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String, Int32, Int32) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:44:31.280 +03:00 [INF] Executing ViewResult, running view Index.
2025-08-02 15:44:31.320 +03:00 [INF] Executed ViewResult - view Index executed in 41.2077ms.
2025-08-02 15:44:31.322 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web) in 60.1598ms
2025-08-02 15:44:31.324 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Index (KazanlakRun.Web)'
2025-08-02 15:44:31.329 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs - 200 null text/html; charset=utf-8 106.8549ms
2025-08-02 15:44:31.339 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:44:31.339 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:44:31.345 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 5.4215ms
2025-08-02 15:44:31.358 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.6734ms
2025-08-02 15:44:32.790 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/Admin/Logs/Show?fileName=log20250802.txt - null null
2025-08-02 15:44:32.803 +03:00 [INF] Executing endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show (KazanlakRun.Web)'
2025-08-02 15:44:32.811 +03:00 [INF] Route matched with {area = "Admin", action = "Show", controller = "Logs", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Show(System.String) on controller KazanlakRun.Web.Areas.Admin.Controllers.LogsController (KazanlakRun.Web).
2025-08-02 15:44:32.903 +03:00 [INF] Executing ViewResult, running view Show.
2025-08-02 15:44:32.970 +03:00 [INF] Executed ViewResult - view Show executed in 68.2394ms.
2025-08-02 15:44:32.972 +03:00 [INF] Executed action KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show (KazanlakRun.Web) in 156.6614ms
2025-08-02 15:44:32.973 +03:00 [INF] Executed endpoint 'KazanlakRun.Web.Areas.Admin.Controllers.LogsController.Show (KazanlakRun.Web)'
2025-08-02 15:44:32.975 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/Admin/Logs/Show?fileName=log20250802.txt - 200 null text/html; charset=utf-8 185.1837ms
2025-08-02 15:44:32.987 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_vs/browserLink - null null
2025-08-02 15:44:32.987 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:44:32.996 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 8.9571ms
2025-08-02 15:44:32.998 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.4775ms
2025-08-02 15:44:43.054 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 15:44:43.059 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7017/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 4.8817ms
